@page "/login"
@using SportTogetherBlazor.Services
@inject HttpClient httpClient

<div class="login-wrapper">
    <div class="login-form">
        <h2>Sign In</h2>
        <EditForm Model="@loginModel">
            <div class="form-group">
                <label for="pseudo">pseudo</label>
                <InputText id="pseudo" @bind-Value="loginModel.Pseudo" />
            </div>
            <div class="form-group">
                <label for="Mot de passe">Mot de passe</label>
                <InputText id="password" @bind-Value="loginModel.Password" type="password" />
            </div>
            <button @onclick="HandleLogin">Sign In</button>
            <div class="form-options">
                <input type="checkbox" id="rememberMe" @bind="loginModel.RememberMe" />
                <label for="rememberMe">Remember Me</label>
                <a href="#">Forgot Password</a>
            </div>
            <div class="form-footer">
                <span>Not a member?</span>
                <a href="#">Sign Up</a>
            </div>
        </EditForm>
    </div>
</div>

@code {
    private LoginModel loginModel = new LoginModel();

    private async Task HandleLogin()
    {
        var response = await httpClient.PostAsJsonAsync("auth/login", loginModel);
        if (response.IsSuccessStatusCode)
        {
            // Gérer la réponse réussie ici
        }
        else
        {
            // Gérer l'erreur ici
        }
    }

    public class LoginModel
    {
        public string Pseudo { get; set; }
        public string Password { get; set; }
        public bool RememberMe { get; set; }
    }
}


